// Code generated by github.com/jmattheis/goverter, DO NOT EDIT.
//go:build !goverter

package converter

import (
	dto "github.com/dianlight/srat/dto"
	osutil "github.com/dianlight/srat/internal/osutil"
	xhashes "github.com/shomali11/util/xhashes"
	mount "github.com/u-root/u-root/pkg/mount"
)

type MountToDtoImpl struct{}

func (c *MountToDtoImpl) MountToMountPointData(source *mount.MountPoint, target *dto.MountPointData, context *dto.DiskMap) error {
	if source != nil {
		if source.Path != "" {
			target.DiskLabel = DiskLabelFromPath(source.Path)
		}
		if source.Path != "" {
			target.DiskSerial = DiskSerialFromPath(source.Path)
		}
		if source.Path != "" {
			target.DiskSize = DiskSizeFromPath(source.Path)
		}
		if source.Path != "" {
			target.Path = source.Path
		}
		if source.Path != "" {
			target.PathHash = xhashes.SHA1(source.Path)
		}
		if source.Path != "" {
			target.Root = rootFromPath(source.Path, context)
		}
		if source.FSType != "" {
			pString := source.FSType
			target.FSType = &pString
		}
		if source.Flags != 0 {
			pDtoMountFlags, err := uintptrToMountFlags(source.Flags)
			if err != nil {
				return err
			}
			target.Flags = pDtoMountFlags
		}
		if source.Data != "" {
			pDtoMountFlags2, err := stringToMountFlags(source.Data)
			if err != nil {
				return err
			}
			target.CustomFlags = pDtoMountFlags2
		}
		if source.Device != "" {
			xstring, err := deviceToDeviceId(source.Device)
			if err != nil {
				return err
			}
			target.DeviceId = xstring
		}
		if source.Device != "" {
			target.Partition = partitionFromDevice(source.Device, context)
		}
		if source.Path != "" {
			xbool, err := osutil.IsMounted(source.Path)
			if err != nil {
				return err
			}
			target.IsMounted = xbool
		}
		if source.Path != "" {
			xbool2, err := isPathDirNotExists(source.Path)
			if err != nil {
				return err
			}
			target.IsInvalid = xbool2
		}
		if source.Path != "" {
			target.IsWriteSupported = isWriteSupported(source.Path)
		}
		if source.FSType != "" {
			target.TimeMachineSupport = TimeMachineSupportFromFS(source.FSType)
		}
	}
	return nil
}
