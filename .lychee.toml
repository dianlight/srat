# Lychee configuration for SRAT project
# Link and image validation for GitHub Flavored Markdown
# See https://lychee.cli.rs for configuration options

# Maximum number of concurrent requests
max_concurrency = 10

# Maximum number of retries per request
max_retries = 3

# Timeout per request in seconds
timeout = 20

# Output display mode
mode = "emoji"

# Accept invalid certificates
accept = ["200", "206", "301", "302", "307", "308", "429"]

# User agent
user_agent = "Mozilla/5.0 (compatible; LycheeBot/1.0; +https://github.com/dianlight/srat)"

# Excludes
exclude = [
  "https://my.home-assistant.io/*", # Home Assistant specific URLs that may not be accessible
  "http://localhost*", # Local URLs
  "http://127.0.0.1*",
  "http://0.0.0.0*",
  "https://www.buymeacoffee.com/*", # Buy me a coffee (can be rate-limited) 
  "https://github.com/*/edit/*", # GitHub edit links (require authentication)
  "https://wiki.samba.org/*",
  "https://codecov.io/github/dianlight/*",
]

# URLs to check (supports regex). Has preference over all excludes.
#include = ['gist\.github\.com.*']

# Exclude paths from getting checked. The values are treated as regular expressions
exclude_path = [
  "frontend/node_modules/",
  "backend/src/vendor/",
  ".git/",
]

# Check the specified file extensions
extensions = ["md", "txt", "html"]

# Check local files
include_verbatim = false

# Require HTTPS
require_https = false

# Check email addresses
check_email = true

# GitHub Flavored Markdown support
# Lychee natively supports GFM syntax including:
# - Tables
# - Task lists
# - Strikethrough
# - Autolinks
# - Fenced code blocks
# - Emoji

# Remap URLs (useful for local testing)
# remap = ["https://example.com http://localhost:8080"]

# Cache responses to avoid hitting rate limits
cache = true

# A list of status codes that will be ignored from the cache
cache_exclude_status = ["500", "502", "503", "504", "520", "521", "522", "403"]

# Maximum cache age in days
max_cache_age = "1d"

# Verbose output
verbose = "info"

# Base URL for relative links (if needed)
# base = "https://github.com/dianlight/srat"

# Headers for authentication (if needed)
# headers = ["Authorization=Bearer token"]

# Method to use for checking links
method = "get"

# Follow redirects
follow_redirects = false

# Maximum number of redirects to follow
max_redirects = 10

# Exclude all private IPs
exclude_all_private = true

# Search and suggest link replacements for all broken links
suggest = true
